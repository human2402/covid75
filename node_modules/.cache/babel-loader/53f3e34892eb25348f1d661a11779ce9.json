{"ast":null,"code":"import _objectSpread from\"/home/human2402/myFolder/covid75/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/human2402/myFolder/covid75/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/human2402/myFolder/covid75/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/human2402/myFolder/covid75/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{ReactComponent as ZabIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../icons/SVG/zab.svg\";var Tab0=function Tab0(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoaded=_useState2[0],setLoaded=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),localData=_useState4[0],setLocalData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),updateTime=_useState6[0],setUpdateTime=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),updatePSize=_useState8[0],setUpdatePSize=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),zabProps=_useState10[0],setZabProps=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),infoLiSize=_useState12[0],setInfoLiSize=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),infoMeter=_useState14[0],setInfoMeter=_useState14[1];useEffect(function(){fetchLocalData();calcSizes();},[]);// FETCH DATA\nvar fetchLocalData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetch('https://api.apify.com/v2/key-value-stores/1brJ0NLbQaJKPTWMO/records/LATEST?disableRedirect=true').then(function(response){return response.json();}).then(function(result){props.setShown(true);setLoaded(true);props.setGlobal(result);// console.log (result.infectedByRegion[50])\nsetLocalData([result.infectedByRegion[50].infected,result.infectedByRegion[50].recovered,result.infectedByRegion[50].deceased]);setUpdateTime(result.lastUpdatedAtSource.toString().slice(0,-14));//  calcMeter (result.infectedByRegion[50])\n}).catch(function(error){setLoaded(false);props.setFetchError(error);console.error(error);});case 1:case\"end\":return _context.stop();}}},_callee);}));return function fetchLocalData(){return _ref.apply(this,arguments);};}();var calcMeter=function calcMeter(result){var onePercent=(result.infected+result.recovered+result.deceased)/100;var perInfected=result.infected/onePercent;var perRecovered=result.recovered/onePercent;var perDeceased=result.deceased/onePercent;setInfoMeter([perInfected+'%',perRecovered+'%',perDeceased+'%']);};// CALC SIZES\nvar calcSizes=function calcSizes(){//calc update time\nvar cUpPSize=document.querySelector('.updateDiv').clientHeight/2.3;setUpdatePSize(cUpPSize+'px');// calc zab title\nvar zabTitleHeight=document.querySelector('.zabTitle').clientHeight;var zabDiv=document.querySelector('.zabDiv');var zabTop=zabTitleHeight/2-zabDiv.clientHeight/3+2;var zabFont=zabTitleHeight/3;var zabWidth=zabDiv.clientWidth+'px';setZabProps([zabTop+'px',zabFont+'px',zabTitleHeight*0.7+'px',zabWidth]);// calc info li\nvar infoLiHeight=document.querySelector('.infoLiDiv').clientHeight;var infoLiFont=infoLiHeight/2.9;setInfoLiSize([infoLiHeight+'px',infoLiFont+'px']);};// VAR ELEMENTS\nvar updateDownload=null;if(isLoaded){var date=new Date(updateTime);var day=date.getDate();if(day<10)day='0'+day;var month=date.getMonth()+1;if(month<10)month='0'+month;updateDownload=\"\".concat(day,\".\").concat(month,\".\").concat(date.getFullYear());}var infoBorder={height:'2px',width:'100%',backgroundColor:'#c4c4c4'};var infoLi={height:'99%',width:'90%',display:'flex',justifyContent:'space-between',padding:'0 5%'};var statusP={fontSize:infoLiSize[1],lineHeight:infoLiSize[0],margin:0};var statusNum={fontWeight:'bold'};var chS={fontWeight:'400'};var mainDisplay='none';if(props.tab==='0')mainDisplay='block';return/*#__PURE__*/React.createElement(\"div\",{style:{height:'100%',width:'100%',display:mainDisplay}},/*#__PURE__*/React.createElement(\"div\",{style:{height:'95%',borderRadius:'30px',width:'95%',margin:'auto ',background:'linear-gradient(143deg, #ff6969 6%, #cd3d3d 50%, #a81c1c 93%)',boxShadow:'4px 4px 10px rgba(0, 0, 0, 0.3), -4px -4px 10px rgba(255, 255, 255, 1)'}},/*#__PURE__*/React.createElement(\"div\",{className:\"zabTitle\",style:{height:'10%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"zabDiv\",style:{height:'70%',position:'relative',top:zabProps[0],backgroundColor:'#ffffff',marginLeft:'7.5%',padding:'0 5%',display:'inline-block',borderRadius:'20px'}},/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:zabProps[1],margin:0,lineHeight:zabProps[2],fontWeight:'400'}},/*#__PURE__*/React.createElement(\"span\",{style:{color:'rgb(100, 5, 5)'}},\"Covid19 \"),\"\\u0432 \\u0417\\u0430\\u0431\\u0430\\u0439\\u043A\\u0430\\u043B\\u044C\\u0435:\"))),/*#__PURE__*/React.createElement(\"div\",{style:{height:'49%',display:'flex',justifyContent:'space-around'}},/*#__PURE__*/React.createElement(ZabIcon,{style:{height:'100%',width:'60%'}})),/*#__PURE__*/React.createElement(\"div\",{style:{height:'41%'}},/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'#ffffff',height:'90%',width:'85%',margin:'0 auto',borderRadius:'20px'}},/*#__PURE__*/React.createElement(\"div\",{style:{height:'90%',width:'90%',margin:'0 5%',position:'relative',top:'5%',display:'flex',justifyContent:'space-between'}},/*#__PURE__*/React.createElement(\"div\",{style:{width:'90%',height:'100%'}},/*#__PURE__*/React.createElement(\"div\",{style:{width:'100%',height:'33.33%'}},/*#__PURE__*/React.createElement(\"div\",{style:infoLi},/*#__PURE__*/React.createElement(\"p\",{style:statusP},\"\\u0417\\u0430\\u0440\\u0430\\u0436\\u0435\\u043D\\u043E:\"),/*#__PURE__*/React.createElement(\"p\",{style:_objectSpread({},statusP,{},statusNum,{color:'#2e0000'})},localData[0],/*#__PURE__*/React.createElement(\"span\",{style:chS},\"\\u0447.\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"infoLiDiv\",style:{width:'100%',height:'33.33%'}},/*#__PURE__*/React.createElement(\"div\",{style:infoBorder}),/*#__PURE__*/React.createElement(\"div\",{style:infoLi},/*#__PURE__*/React.createElement(\"p\",{style:statusP},'Выздоров.',\":\"),/*#__PURE__*/React.createElement(\"p\",{style:_objectSpread({},statusP,{},statusNum,{color:'#012b00'})},localData[1],/*#__PURE__*/React.createElement(\"span\",{style:chS},\"\\u0447.\")))),/*#__PURE__*/React.createElement(\"div\",{style:{width:'100%',height:'33.33%'}},/*#__PURE__*/React.createElement(\"div\",{style:infoBorder}),/*#__PURE__*/React.createElement(\"div\",{style:infoLi},/*#__PURE__*/React.createElement(\"p\",{style:statusP},\"\\u0423\\u043C\\u0435p\\u043B\\u043E:\"),/*#__PURE__*/React.createElement(\"p\",{style:_objectSpread({},statusP,{},statusNum)},localData[2],/*#__PURE__*/React.createElement(\"span\",{style:chS},\"\\u0447.\"))))),/*#__PURE__*/React.createElement(\"div\",{style:{height:'100%',width:'3%'}},/*#__PURE__*/React.createElement(\"div\",{style:{height:'33.33%',width:'100%',borderRadius:'100px 100px 0 0',backgroundColor:'red'}}),/*#__PURE__*/React.createElement(\"div\",{style:{height:'33.33%',width:'100%',backgroundColor:'green'}}),/*#__PURE__*/React.createElement(\"div\",{style:{height:'33.33%',width:'100%',borderRadius:'0 0 100px 100px',backgroundColor:'black'}})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"updateDiv\",style:{height:'6%',display:'flex',justifyContent:'end',margin:'1% 10%'}},/*#__PURE__*/React.createElement(\"div\",{style:{flex:1}}),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:updatePSize,margin:'0',fontWeight:'300'}},\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u043E \",updateDownload)));};export default Tab0;","map":{"version":3,"sources":["/home/human2402/myFolder/covid75/src/com/middleStuff/tabs/Tab0.js"],"names":["React","useState","useEffect","Tab0","props","isLoaded","setLoaded","localData","setLocalData","updateTime","setUpdateTime","updatePSize","setUpdatePSize","zabProps","setZabProps","infoLiSize","setInfoLiSize","infoMeter","setInfoMeter","fetchLocalData","calcSizes","fetch","then","response","json","result","setShown","setGlobal","infectedByRegion","infected","recovered","deceased","lastUpdatedAtSource","toString","slice","catch","error","setFetchError","console","calcMeter","onePercent","perInfected","perRecovered","perDeceased","cUpPSize","document","querySelector","clientHeight","zabTitleHeight","zabDiv","zabTop","zabFont","zabWidth","clientWidth","infoLiHeight","infoLiFont","updateDownload","date","Date","day","getDate","month","getMonth","getFullYear","infoBorder","height","width","backgroundColor","infoLi","display","justifyContent","padding","statusP","fontSize","lineHeight","margin","statusNum","fontWeight","chS","mainDisplay","tab","borderRadius","background","boxShadow","position","top","marginLeft","color","flex"],"mappings":"wcAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,C,mGAIA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,eAEUH,QAAQ,CAAE,KAAF,CAFlB,wCAEbI,QAFa,eAEHC,SAFG,8BAGcL,QAAQ,CAAE,EAAF,CAHtB,yCAGbM,SAHa,eAGFC,YAHE,8BAIgBP,QAAQ,EAJxB,yCAIbQ,UAJa,eAIDC,aAJC,8BAMkBT,QAAQ,EAN1B,yCAMbU,WANa,eAMAC,cANA,8BAOYX,QAAQ,CAAE,EAAF,CAPpB,0CAObY,QAPa,gBAOHC,WAPG,gCAQeb,QAAQ,CAAE,EAAF,CARvB,2CAQbc,UARa,gBAQFC,aARE,gCAScf,QAAQ,CAAE,EAAF,CATtB,2CASbgB,SATa,gBASFC,YATE,gBAWpBhB,SAAS,CAAE,UAAM,CACbiB,cAAc,GACdC,SAAS,GACZ,CAHQ,CAGN,EAHM,CAAT,CAKA;AACA,GAAMD,CAAAA,cAAc,0FAAG,mIACnBE,KAAK,CAAE,iGAAF,CAAL,CACCC,IADD,CACO,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADf,EAECF,IAFD,CAEO,SAAAG,MAAM,CAAI,CACbrB,KAAK,CAACsB,QAAN,CAAgB,IAAhB,EACApB,SAAS,CAAE,IAAF,CAAT,CACAF,KAAK,CAACuB,SAAN,CAAiBF,MAAjB,EACD;AACCjB,YAAY,CAAE,CAACiB,MAAM,CAACG,gBAAP,CAAwB,EAAxB,EAA4BC,QAA7B,CAAuCJ,MAAM,CAACG,gBAAP,CAAwB,EAAxB,EAA4BE,SAAnE,CAA8EL,MAAM,CAACG,gBAAP,CAAwB,EAAxB,EAA4BG,QAA1G,CAAF,CAAZ,CACArB,aAAa,CAAEe,MAAM,CAACO,mBAAP,CAA2BC,QAA3B,GAAsCC,KAAtC,CAA6C,CAA7C,CAAgD,CAAC,EAAjD,CAAF,CAAb,CACF;AACD,CAVD,EAWCC,KAXD,CAWQ,SAAAC,KAAK,CAAI,CACb9B,SAAS,CAAE,KAAF,CAAT,CACAF,KAAK,CAACiC,aAAN,CAAqBD,KAArB,EACAE,OAAO,CAACF,KAAR,CAAeA,KAAf,EACH,CAfD,EADmB,sDAAH,kBAAdjB,CAAAA,cAAc,0CAApB,CAmBA,GAAMoB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACd,MAAD,CAAY,CAC1B,GAAMe,CAAAA,UAAU,CAAG,CAACf,MAAM,CAACI,QAAP,CAAkBJ,MAAM,CAACK,SAAzB,CAAqCL,MAAM,CAACM,QAA7C,EAAwD,GAA3E,CACA,GAAMU,CAAAA,WAAW,CAAGhB,MAAM,CAACI,QAAP,CAAkBW,UAAtC,CACA,GAAME,CAAAA,YAAY,CAAGjB,MAAM,CAACK,SAAP,CAAmBU,UAAxC,CACA,GAAMG,CAAAA,WAAW,CAAGlB,MAAM,CAACM,QAAP,CAAkBS,UAAtC,CACAtB,YAAY,CAAE,CAACuB,WAAW,CAAC,GAAb,CAAkBC,YAAY,CAAC,GAA/B,CAAoCC,WAAW,CAAC,GAAhD,CAAF,CAAZ,CACH,CAND,CAQA;AACA,GAAMvB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB;AACA,GAAMwB,CAAAA,QAAQ,CAAIC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,YAArC,CAAoD,GAAtE,CACAnC,cAAc,CAAEgC,QAAQ,CAAC,IAAX,CAAd,CACA;AACA,GAAMI,CAAAA,cAAc,CAAIH,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,YAA5D,CACA,GAAME,CAAAA,MAAM,CAAGJ,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAf,CACA,GAAMI,CAAAA,MAAM,CAAIF,cAAc,CAAC,CAAhB,CAAsBC,MAAM,CAACF,YAAP,CAAoB,CAA1C,CAA+C,CAA9D,CACA,GAAMI,CAAAA,OAAO,CAAIH,cAAc,CAAC,CAAhC,CACA,GAAMI,CAAAA,QAAQ,CAAGH,MAAM,CAACI,WAAP,CAAmB,IAApC,CACAvC,WAAW,CAAE,CAACoC,MAAM,CAAC,IAAR,CAAcC,OAAO,CAAC,IAAtB,CAA4BH,cAAc,CAAC,GAAf,CAAmB,IAA/C,CAAqDI,QAArD,CAAF,CAAX,CACA;AACA,GAAME,CAAAA,YAAY,CAAGT,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,YAA1D,CACA,GAAMQ,CAAAA,UAAU,CAAGD,YAAY,CAAG,GAAlC,CACAtC,aAAa,CAAE,CAACsC,YAAY,CAAC,IAAd,CAAmBC,UAAU,CAAG,IAAhC,CAAF,CAAb,CACH,CAfD,CAiBA;AACA,GAAIC,CAAAA,cAAc,CAAG,IAArB,CACA,GAAInD,QAAJ,CAAc,CACV,GAAIoD,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAAUjD,UAAV,CAAX,CACA,GAAIkD,CAAAA,GAAG,CAAIF,IAAI,CAACG,OAAL,EAAX,CACI,GAAID,GAAG,CAAG,EAAV,CAAcA,GAAG,CAAG,IAAMA,GAAZ,CAClB,GAAIE,CAAAA,KAAK,CAAGJ,IAAI,CAACK,QAAL,GAAmB,CAA/B,CACI,GAAID,KAAK,CAAG,EAAZ,CAAgBA,KAAK,CAAG,IAAMA,KAAd,CACpBL,cAAc,WAAMG,GAAN,aAAaE,KAAb,aAAsBJ,IAAI,CAACM,WAAL,EAAtB,CAAd,CACH,CAID,GAAMC,CAAAA,UAAU,CAAG,CAACC,MAAM,CAAE,KAAT,CAAgBC,KAAK,CAAE,MAAvB,CAA+BC,eAAe,CAAE,SAAhD,CAAnB,CACA,GAAMC,CAAAA,MAAM,CAAG,CAACH,MAAM,CAAE,KAAT,CAAgBC,KAAK,CAAE,KAAvB,CAA8BG,OAAO,CAAE,MAAvC,CAA+CC,cAAc,CAAE,eAA/D,CAAgFC,OAAO,CAAE,MAAzF,CAAf,CACA,GAAMC,CAAAA,OAAO,CAAG,CAACC,QAAQ,CAAE1D,UAAU,CAAC,CAAD,CAArB,CAA0B2D,UAAU,CAAE3D,UAAU,CAAC,CAAD,CAAhD,CAAqD4D,MAAM,CAAE,CAA7D,CAAhB,CACA,GAAMC,CAAAA,SAAS,CAAG,CAACC,UAAU,CAAE,MAAb,CAAlB,CACA,GAAMC,CAAAA,GAAG,CAAG,CAACD,UAAU,CAAE,KAAb,CAAZ,CAEA,GAAIE,CAAAA,WAAW,CAAG,MAAlB,CACA,GAAI3E,KAAK,CAAC4E,GAAN,GAAc,GAAlB,CAAuBD,WAAW,CAAG,OAAd,CAEvB,mBACI,2BAAK,KAAK,CAAI,CAACd,MAAM,CAAE,MAAT,CAAiBC,KAAK,CAAE,MAAxB,CAAgCG,OAAO,CAAEU,WAAzC,CAAd,eACI,2BAAK,KAAK,CAAI,CAACd,MAAM,CAAE,KAAT,CAAgBgB,YAAY,CAAE,MAA9B,CAAsCf,KAAK,CAAE,KAA7C,CAAoDS,MAAM,CAAE,OAA5D,CAAqEO,UAAU,CAAE,+DAAjF,CACNC,SAAS,CAAE,wEADL,CAAd,eAII,2BAAK,SAAS,CAAG,UAAjB,CAA4B,KAAK,CAAI,CAAClB,MAAM,CAAE,KAAT,CAArC,eACI,2BAAK,SAAS,CAAG,QAAjB,CAA0B,KAAK,CAAI,CAACA,MAAM,CAAE,KAAT,CAAemB,QAAQ,CAAE,UAAzB,CAAqCC,GAAG,CAAExE,QAAQ,CAAC,CAAD,CAAlD,CAAuDsD,eAAe,CAAE,SAAxE,CAAmFmB,UAAU,CAAE,MAA/F,CAAuGf,OAAO,CAAE,MAAhH,CAAwHF,OAAO,CAAE,cAAjI,CAAiJY,YAAY,CAAE,MAA/J,CAAnC,eACI,yBAAG,KAAK,CAAI,CAACR,QAAQ,CAAE5D,QAAQ,CAAC,CAAD,CAAnB,CAAwB8D,MAAM,CAAE,CAAhC,CAAmCD,UAAU,CAAE7D,QAAQ,CAAC,CAAD,CAAvD,CAA4DgE,UAAU,CAAE,KAAxE,CAAZ,eACI,4BAAM,KAAK,CAAI,CAACU,KAAK,CAAE,gBAAR,CAAf,aADJ,wEADJ,CADJ,CAJJ,cAcI,2BAAK,KAAK,CAAI,CAACtB,MAAM,CAAE,KAAT,CAAgBI,OAAO,CAAE,MAAzB,CAAiCC,cAAc,CAAE,cAAjD,CAAd,eACI,oBAAC,OAAD,EAAS,KAAK,CAAI,CAACL,MAAM,CAAE,MAAT,CAAiBC,KAAK,CAAE,KAAxB,CAAlB,EADJ,CAdJ,cAkBI,2BAAK,KAAK,CAAI,CAACD,MAAM,CAAE,KAAT,CAAd,eACI,2BAAK,KAAK,CAAI,CAACE,eAAe,CAAE,SAAlB,CAA6BF,MAAM,CAAE,KAArC,CAA4CC,KAAK,CAAE,KAAnD,CAA0DS,MAAM,CAAE,QAAlE,CAA4EM,YAAY,CAAE,MAA1F,CAAd,eACI,2BAAK,KAAK,CAAI,CAAChB,MAAM,CAAE,KAAT,CAAgBC,KAAK,CAAE,KAAvB,CAA8BS,MAAM,CAAE,MAAtC,CAA8CS,QAAQ,CAAE,UAAxD,CAAoEC,GAAG,CAAE,IAAzE,CAA+EhB,OAAO,CAAE,MAAxF,CAAgGC,cAAc,CAAE,eAAhH,CAAd,eAEI,2BAAK,KAAK,CAAI,CAACJ,KAAK,CAAE,KAAR,CAAeD,MAAM,CAAE,MAAvB,CAAd,eACI,2BAAK,KAAK,CAAI,CAACC,KAAK,CAAE,MAAR,CAAgBD,MAAM,CAAE,QAAxB,CAAd,eACI,2BAAK,KAAK,CAAIG,MAAd,eACI,yBAAG,KAAK,CAAII,OAAZ,sDADJ,cAEI,yBAAG,KAAK,kBAAQA,OAAR,IAAoBI,SAApB,EAA+BW,KAAK,CAAE,SAAtC,EAAR,EAA4DhF,SAAS,CAAC,CAAD,CAArE,cAAyE,4BAAM,KAAK,CAAIuE,GAAf,YAAzE,CAFJ,CADJ,CADJ,cAOI,2BAAK,SAAS,CAAG,WAAjB,CAA6B,KAAK,CAAI,CAACZ,KAAK,CAAE,MAAR,CAAgBD,MAAM,CAAE,QAAxB,CAAtC,eACI,2BAAK,KAAK,CAAID,UAAd,EADJ,cAEI,2BAAK,KAAK,CAAII,MAAd,eACI,yBAAG,KAAK,CAAII,OAAZ,EAAsB,WAAtB,KADJ,cAEI,yBAAG,KAAK,kBAAQA,OAAR,IAAoBI,SAApB,EAA+BW,KAAK,CAAE,SAAtC,EAAR,EAA4DhF,SAAS,CAAC,CAAD,CAArE,cAAyE,4BAAM,KAAK,CAAIuE,GAAf,YAAzE,CAFJ,CAFJ,CAPJ,cAcI,2BAAK,KAAK,CAAI,CAACZ,KAAK,CAAE,MAAR,CAAgBD,MAAM,CAAE,QAAxB,CAAd,eACI,2BAAK,KAAK,CAAID,UAAd,EADJ,cAEI,2BAAK,KAAK,CAAII,MAAd,eACI,yBAAG,KAAK,CAAII,OAAZ,qCADJ,cAEI,yBAAG,KAAK,kBAAQA,OAAR,IAAoBI,SAApB,CAAR,EAA0CrE,SAAS,CAAC,CAAD,CAAnD,cAAuD,4BAAM,KAAK,CAAIuE,GAAf,YAAvD,CAFJ,CAFJ,CAdJ,CAFJ,cAyBI,2BAAK,KAAK,CAAI,CAACb,MAAM,CAAE,MAAT,CAAiBC,KAAK,CAAE,IAAxB,CAAd,eACI,2BAAK,KAAK,CAAI,CAACD,MAAM,CAAE,QAAT,CAAkBC,KAAK,CAAE,MAAzB,CAAgCe,YAAY,CAAE,iBAA9C,CAAgEd,eAAe,CAAE,KAAjF,CAAd,EADJ,cAEI,2BAAK,KAAK,CAAI,CAACF,MAAM,CAAE,QAAT,CAAkBC,KAAK,CAAE,MAAzB,CAAgCC,eAAe,CAAE,OAAjD,CAAd,EAFJ,cAGI,2BAAK,KAAK,CAAI,CAACF,MAAM,CAAE,QAAT,CAAkBC,KAAK,CAAE,MAAzB,CAAgCe,YAAY,CAAE,iBAA9C,CAAgEd,eAAe,CAAE,OAAjF,CAAd,EAHJ,CAzBJ,CADJ,CADJ,CAlBJ,CADJ,cAyDI,2BAAK,SAAS,CAAG,WAAjB,CAA6B,KAAK,CAAI,CAACF,MAAM,CAAE,IAAT,CAAeI,OAAO,CAAE,MAAxB,CAAgCC,cAAc,CAAE,KAAhD,CAAuDK,MAAM,CAAE,QAA/D,CAAtC,eACI,2BAAK,KAAK,CAAI,CAACa,IAAI,CAAE,CAAP,CAAd,EADJ,cAEI,yBAAG,KAAK,CAAI,CAACf,QAAQ,CAAE9D,WAAX,CAAwBgE,MAAM,CAAE,GAAhC,CAAqCE,UAAU,CAAE,KAAjD,CAAZ,4DAAiFrB,cAAjF,CAFJ,CAzDJ,CADJ,CAgEH,CApJD,CAsJA,cAAerD,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport {ReactComponent as ZabIcon} from '../../icons/SVG/zab.svg'\n\nconst Tab0 = (props) => {\n\n    const [isLoaded, setLoaded] = useState (false)\n    const [localData, setLocalData] = useState ([])\n    const [updateTime, setUpdateTime] = useState ()\n\n    const [updatePSize, setUpdatePSize] = useState ()\n    const [zabProps, setZabProps] = useState ([])\n    const [infoLiSize,setInfoLiSize] = useState ([])\n    const [infoMeter, setInfoMeter] = useState ([])\n    \n    useEffect (() => {\n        fetchLocalData ()\n        calcSizes ()\n    }, [])\n\n    // FETCH DATA\n    const fetchLocalData = async () => {\n        fetch ('https://api.apify.com/v2/key-value-stores/1brJ0NLbQaJKPTWMO/records/LATEST?disableRedirect=true')\n        .then (response => response.json())\n        .then (result => {\n            props.setShown (true)\n            setLoaded (true)\n            props.setGlobal (result)\n           // console.log (result.infectedByRegion[50])\n            setLocalData ([result.infectedByRegion[50].infected, result.infectedByRegion[50].recovered, result.infectedByRegion[50].deceased])\n            setUpdateTime (result.lastUpdatedAtSource.toString().slice (0, -14))\n          //  calcMeter (result.infectedByRegion[50])\n        })\n        .catch (error => {\n            setLoaded (false)\n            props.setFetchError (error)\n            console.error (error)\n        })\n    }\n\n    const calcMeter = (result) => {\n        const onePercent = (result.infected + result.recovered + result.deceased) /100\n        const perInfected = result.infected / onePercent\n        const perRecovered = result.recovered / onePercent\n        const perDeceased = result.deceased / onePercent\n        setInfoMeter ([perInfected+'%', perRecovered+'%', perDeceased+'%'])\n    }\n\n    // CALC SIZES\n    const calcSizes = () => {\n        //calc update time\n        const cUpPSize = (document.querySelector('.updateDiv').clientHeight / 2.3)\n        setUpdatePSize (cUpPSize+'px')\n        // calc zab title\n        const zabTitleHeight = (document.querySelector('.zabTitle').clientHeight)\n        const zabDiv = document.querySelector('.zabDiv')\n        const zabTop = (zabTitleHeight/2) - (zabDiv.clientHeight/3) + 2\n        const zabFont = (zabTitleHeight/3)\n        const zabWidth = zabDiv.clientWidth+'px'\n        setZabProps ([zabTop+'px', zabFont+'px', zabTitleHeight*0.7+'px', zabWidth])\n        // calc info li\n        const infoLiHeight = document.querySelector('.infoLiDiv').clientHeight\n        const infoLiFont = infoLiHeight / 2.9\n        setInfoLiSize ([infoLiHeight+'px',infoLiFont + 'px'])\n    }\n\n    // VAR ELEMENTS\n    let updateDownload = null\n    if (isLoaded) {\n        let date = new Date (updateTime)\n        let day =  date.getDate ()\n            if (day < 10) day = '0' + day\n        let month = date.getMonth () + 1\n            if (month < 10) month = '0' + month\n        updateDownload = `${day}.${month}.${date.getFullYear()}`\n    }\n\n\n\n    const infoBorder = {height: '2px', width: '100%', backgroundColor: '#c4c4c4'}\n    const infoLi = {height: '99%', width: '90%', display: 'flex', justifyContent: 'space-between', padding: '0 5%' }\n    const statusP = {fontSize: infoLiSize[1], lineHeight: infoLiSize[0], margin: 0}\n    const statusNum = {fontWeight: 'bold'}\n    const chS = {fontWeight: '400'}\n\n    let mainDisplay = 'none'\n    if (props.tab === '0') mainDisplay = 'block'\n\n    return (\n        <div style = {{height: '100%', width: '100%', display: mainDisplay}}>\n            <div style = {{height: '95%', borderRadius: '30px', width: '95%', margin: 'auto ', background: 'linear-gradient(143deg, #ff6969 6%, #cd3d3d 50%, #a81c1c 93%)',\n                    boxShadow: '4px 4px 10px rgba(0, 0, 0, 0.3), -4px -4px 10px rgba(255, 255, 255, 1)'}}\n            >\n                \n                <div className = 'zabTitle' style = {{height: '10%'}} >\n                    <div className = 'zabDiv' style = {{height: '70%',position: 'relative', top: zabProps[0], backgroundColor: '#ffffff', marginLeft: '7.5%', padding: '0 5%', display: 'inline-block', borderRadius: '20px'}}>\n                        <p style = {{fontSize: zabProps[1], margin: 0, lineHeight: zabProps[2], fontWeight: '400'}}>\n                            <span style = {{color: 'rgb(100, 5, 5)'}} >\n                                Covid19 </span>\n                            в Забайкалье:\n                        </p>\n                    </div>\n                </div>\n\n                <div style = {{height: '49%', display: 'flex', justifyContent: 'space-around'}} >\n                    <ZabIcon style = {{height: '100%', width: '60%'}} />\n                </div>\n\n                <div style = {{height: '41%', }} >\n                    <div style = {{backgroundColor: '#ffffff', height: '90%', width: '85%', margin: '0 auto', borderRadius: '20px'}}>\n                        <div style = {{height: '90%', width: '90%', margin: '0 5%', position: 'relative', top: '5%', display: 'flex', justifyContent: 'space-between'}}>\n                            \n                            <div style = {{width: '90%', height: '100%'}} >\n                                <div style = {{width: '100%', height: '33.33%'}} >\n                                    <div style = {infoLi} >\n                                        <p style = {statusP}>Заражено:</p>\n                                        <p style = {{...statusP, ...statusNum, color: '#2e0000'}} >{localData[0]}<span style = {chS}>ч.</span></p>\n                                    </div>\n                                </div>\n                                <div className = 'infoLiDiv' style = {{width: '100%', height: '33.33%'}} >\n                                    <div style = {infoBorder} />\n                                    <div style = {infoLi} >\n                                        <p style = {statusP}>{'Выздоров.'}:</p>\n                                        <p style = {{...statusP, ...statusNum, color: '#012b00'}} >{localData[1]}<span style = {chS}>ч.</span></p>\n                                    </div>\n                                </div>\n                                <div style = {{width: '100%', height: '33.33%'}} >\n                                    <div style = {infoBorder} />\n                                    <div style = {infoLi} >\n                                        <p style = {statusP}>Умеpло:</p>\n                                        <p style = {{...statusP, ...statusNum}} >{localData[2]}<span style = {chS}>ч.</span></p>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div style = {{height: '100%', width: '3%'}} >\n                                <div style = {{height: '33.33%',width: '100%',borderRadius: '100px 100px 0 0',backgroundColor: 'red'}}/>\n                                <div style = {{height: '33.33%',width: '100%',backgroundColor: 'green'}}/>\n                                <div style = {{height: '33.33%',width: '100%',borderRadius: '0 0 100px 100px',backgroundColor: 'black'}}/>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n            <div className = 'updateDiv' style = {{height: '6%', display: 'flex', justifyContent: 'end', margin: '1% 10%'}}>\n                <div style = {{flex: 1}} />\n                <p style = {{fontSize: updatePSize ,margin: '0', fontWeight: '300'}} >Обновлено {updateDownload}</p>\n            </div>\n        </div>\n    )\n}\n\nexport default Tab0\n"]},"metadata":{},"sourceType":"module"}